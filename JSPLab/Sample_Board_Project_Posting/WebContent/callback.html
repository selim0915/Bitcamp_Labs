<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script type="text/javascript"
	src="https://static.nid.naver.com/js/naverLogin_implicit-1.0.2.js"
	charset="utf-8"></script>
<script type="text/javascript"
	src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
</head>
<body onload="calls()">
	<!-- naver login callback page -->
	<form id="nLoginForm" action="/nlogin.do" method="post">	
		<input type="hidden" id="email" name="email" value="">
		<input type="hidden" id="nickname" name="nickname" value="">
		<input type="hidden" id="profile_image" name="profile_image" value="">
		<input type="hidden" id="access_token" name="access_token" value="">
	</form>
	
	<script type="text/javascript">
		var naver_id_login = new naver_id_login("EDVRCkCrw7wo3UNay3lP",
				"http://localhost:8080/");
		// 접근 토큰 값 출력
		var access_token = naver_id_login.oauthParams.access_token;
		// 네이버 사용자 프로필 조회
		naver_id_login.get_naver_userprofile("naverSignInCallback()");
		// 네이버 사용자 프로필 조회 이후 프로필 정보를 처리할 callback function
		function naverSignInCallback() {
			var email = naver_id_login.getProfileData('email');
			var nickname = naver_id_login.getProfileData('nickname');
			var profile_image = naver_id_login.getProfileData('profile_image');
			
			$("#email").val(email);
			$("#nickname").val(nickname);
			$("#profile_image").val(profile_image);
			$("#access_token").val(access_token);
			
		}
		function calls() {
			var n = $("#nLoginForm");
			n.submit();
		}
	</script>
</body>
</html>